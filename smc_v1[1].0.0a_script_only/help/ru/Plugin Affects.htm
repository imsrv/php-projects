<html>
<head>
<title>Plugin Affects</title>
</head>
<body>

<h1>Plugin Affects</h1>

Плагин предназначен для поддержания на вас аффектов: spells, skills и songs.
Аффекты задаются во внешнем файле (по-умолчанию с именем "affects") в формате:
<pre>
#имя аффекта
type тип (spell, skill, song)
priority номер (от 1 до 9)
cmd команда для включения
on строка из мада, сигнализирующая включение (можно задать несколько)
off строка из мада, сигнализирующая отключение (можно задать несколько)
</pre>
Если priority не указан, то присваивается 9.
Если cmd не указано, то для заклинаний cmd присваивается cast 'имя', для песен -
sing 'имя', для умений - cmd=имя.<br>
Также плагин понимает снятие аффектов посредством dispel magic или cancellation.
Возможно полное обновление действия аффектов при исполнении команды мада affects.
В этом случае все аффекты сбрасываются, и активизируются аффекты из списка. (данная
возможность зависит от формата возвращаемых данных команды affects, и варьируется для
разных мадов. По-умолчанию настроено для Solace MUD).<br>
Таким образом при правильном задании всех аффектов для поддержания полного spellup вам
надо будет лишь периодически выдавать команду !affects up<br>
<font color=red>ТРЕБОВАНИЯ: заданный prompt.</font>

<br><br>
Экспортируемые команды:
<ul>
<li><a href=#cmd_affects>affects</a>
</ul>

<br>
<hr>
<a name=cmd_affects>
<h2>AFFECTS</h2>
<pre>
Синтаксис: !affects [load|list|clear|need|up]
</pre>
Предоставляет интерфейс для управления плагином. Может вызываться со следующими параметрами:
<ul>
<li>Без параметров - выводит активные аффекты.
<li>load filename - загрузить аффекты из файла с именем filename. Если filename не указано,
то используется файл с именем "affects". При загрузке все предыдущие заданные аффекты уничтожаются.
<li>list - список заданных аффектов
<li>clear - сбросить активность у всех аффектов
<li>need - выводит список неактивных аффектов
<li>up N - выполняет команду включения для каждого неактивного аффекта (фактически spellup :). Дополнительно
можно указать требуемый приоритет N, т.е. будут выполнены те команды, у которых приоритет меньше или равен
заданному. Таким образом при !affects up 1 будут выполнены команды только 1 приоритета, для 2 - 1-го и 2-го,
для 9 - все. Если приоритет не указан, то он предполагается равным 9, т.е. выполнить все. Очень разумно будет задать приоритеты для всех ваших аффектов, например для sanctuary 1, а для armor 9, таким образом
вы можете застраховать себя от кастования armor в перерывах между битвами, чтобы не терять драгоценное
время.
</ul>
<pre>
Список того что надо накастовать, напеть и т.д.
    !affects
Загрузить аффекты из файла whitemage.aff
    !affects load whitemage.aff
Список заданных аффектов
    !affects list
Сбросить аффекты
    !affects clear
Выполнить полный spellup
    !affects up
</pre>


</body>
</html>